<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H∆∞·ªõng d·∫´n xu·∫•t schema SQL Server</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light text-dark">

    <div class="container py-5">
        <h1 class="text-center mb-4">üìä H∆∞·ªõng d·∫´n Xu·∫•t To√†n B·ªô Schema SQL Server Cho AI ƒê·ªçc Hi·ªÉu</h1>

        <!-- 1. M·ª•c ti√™u -->
        <div class="mb-4">
            <h4>üéØ M·ª•c ti√™u</h4>
            <p>ƒê·ªÉ AI ho·∫∑c b·∫•t k·ª≥ h·ªá th·ªëng ph√¢n t√≠ch d·ªØ li·ªáu n√†o c√≥ th·ªÉ hi·ªÉu to√†n b·ªô c∆° s·ªü d·ªØ li·ªáu SQL Server, b·∫°n c·∫ßn xu·∫•t ra ƒë·∫ßy ƒë·ªß <strong>c√°c b·∫£ng</strong>, <strong>t√™n c·ªôt</strong>, <strong>ki·ªÉu d·ªØ li·ªáu</strong>, <strong>kh√≥a ch√≠nh</strong>, <strong>kh√≥a ngo·∫°i</strong>, v.v. Sau ƒë√≥ c√≥ th·ªÉ tr√≠ch xu·∫•t d∆∞·ªõi d·∫°ng <code>CSV</code> ho·∫∑c <code>JSON</code>.</p>
        </div>

        <!-- 2. C√¢u l·ªánh SQL -->
        <div class="mb-4">
            <h4>üíª 2. C√¢u l·ªánh SQL ƒë·ªÉ l·∫•y th√¥ng tin</h4>

            <div class="card mb-3">
                <div class="card-header bg-primary text-white">üìã Li·ªát k√™ t·∫•t c·∫£ b·∫£ng</div>
                <div class="card-body bg-light">
<pre><code>SELECT TABLE_SCHEMA, TABLE_NAME
FROM INFORMATION_SCHEMA.TABLES
WHERE TABLE_TYPE = 'BASE TABLE'
ORDER BY TABLE_SCHEMA, TABLE_NAME;
</code></pre>
                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header bg-success text-white">üìÑ Li·ªát k√™ th√¥ng tin c·ªôt</div>
                <div class="card-body bg-light">
<pre><code>SELECT 
    TABLE_SCHEMA,
    TABLE_NAME,
    COLUMN_NAME,
    DATA_TYPE,
    CHARACTER_MAXIMUM_LENGTH,
    IS_NULLABLE
FROM INFORMATION_SCHEMA.COLUMNS
ORDER BY TABLE_SCHEMA, TABLE_NAME, ORDINAL_POSITION;
</code></pre>
                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header bg-warning text-dark">üîê Li·ªát k√™ kh√≥a ch√≠nh</div>
                <div class="card-body bg-light">
<pre><code>SELECT 
    tc.TABLE_SCHEMA, 
    tc.TABLE_NAME, 
    kc.COLUMN_NAME
FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS tc
JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE AS kc
  ON tc.CONSTRAINT_NAME = kc.CONSTRAINT_NAME
WHERE tc.CONSTRAINT_TYPE = 'PRIMARY KEY';
</code></pre>
                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header bg-danger text-white">üîó Li·ªát k√™ kh√≥a ngo·∫°i</div>
                <div class="card-body bg-light">
<pre><code>SELECT 
    fk.name AS ForeignKey,
    tp.name AS ParentTable,
    cp.name AS ParentColumn,
    tr.name AS ReferencedTable,
    cr.name AS ReferencedColumn
FROM 
    sys.foreign_keys fk
INNER JOIN 
    sys.foreign_key_columns fkc ON fkc.constraint_object_id = fk.object_id
INNER JOIN 
    sys.tables tp ON fkc.parent_object_id = tp.object_id
INNER JOIN 
    sys.columns cp ON fkc.parent_object_id = cp.object_id AND fkc.parent_column_id = cp.column_id
INNER JOIN 
    sys.tables tr ON fkc.referenced_object_id = tr.object_id
INNER JOIN 
    sys.columns cr ON fkc.referenced_object_id = cr.object_id AND fkc.referenced_column_id = cr.column_id;
</code></pre>
                </div>
            </div>
        </div>

        <!-- 3. Xu·∫•t k·∫øt qu·∫£ -->
        <div class="mb-4">
            <h4>üì§ 3. C√°ch xu·∫•t k·∫øt qu·∫£ ƒë·ªÉ AI ƒë·ªçc</h4>
            <ul>
                <li><strong>D√πng SQL Server Management Studio (SSMS):</strong> Ch·∫°y truy v·∫•n ‚ûù Chu·ªôt ph·∫£i v√†o k·∫øt qu·∫£ ‚ûù <code>Save Results As...</code> ‚ûù ch·ªçn <code>CSV</code>.</li>
                <li><strong>D√πng Python / PowerShell:</strong> C√≥ th·ªÉ t·ª± ƒë·ªông h√≥a vi·ªác export sang CSV ho·∫∑c JSON.</li>
            </ul>
        </div>

        <!-- 4. G·ª£i √Ω ƒë·ªãnh d·∫°ng -->
        <div class="mb-4">
            <h4>üß† 4. G·ª£i √Ω ƒë·ªãnh d·∫°ng ƒë·ªÉ g·ª≠i cho AI</h4>
            <p>B·∫°n n√™n xu·∫•t d·ªØ li·ªáu ·ªü d·∫°ng <code>JSON</code> nh∆∞ sau ƒë·ªÉ AI d·ªÖ hi·ªÉu:</p>
<pre><code>[
  {
    "table": "Users",
    "columns": [
      { "name": "UserID", "type": "INT", "primary_key": true },
      { "name": "Username", "type": "VARCHAR(100)", "nullable": false },
      { "name": "Email", "type": "VARCHAR(255)", "nullable": true }
    ]
  }
]</code></pre>
        </div>

        <!-- 5. V√≠ d·ª• k·∫øt qu·∫£ -->
        <div class="mb-4">
            <h4>üìå 5. V√≠ d·ª• minh h·ªça k·∫øt qu·∫£</h4>

            <!-- Danh s√°ch b·∫£ng -->
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">üìã Danh s√°ch b·∫£ng</div>
                <div class="card-body">
                    <table class="table table-bordered table-responsive table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>Schema</th>
                                <th>T√™n b·∫£ng</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>dbo</td><td>Users</td></tr>
                            <tr><td>dbo</td><td>Orders</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Th√¥ng tin c·ªôt -->
            <div class="card mb-3">
                <div class="card-header bg-success text-white">üìÑ Th√¥ng tin c·ªôt</div>
                <div class="card-body">
                    <table class="table table-bordered table-responsive table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>Schema</th>
                                <th>B·∫£ng</th>
                                <th>C·ªôt</th>
                                <th>Ki·ªÉu d·ªØ li·ªáu</th>
                                <th>Chi·ªÅu d√†i</th>
                                <th>Cho ph√©p NULL?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>dbo</td><td>Users</td><td>UserID</td><td>INT</td><td>-</td><td>NO</td></tr>
                            <tr><td>dbo</td><td>Users</td><td>Email</td><td>VARCHAR</td><td>255</td><td>YES</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Kh√≥a ch√≠nh -->
            <div class="card mb-3">
                <div class="card-header bg-warning text-dark">üîê Kh√≥a ch√≠nh</div>
                <div class="card-body">
                    <table class="table table-bordered table-responsive table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>Schema</th>
                                <th>B·∫£ng</th>
                                <th>C·ªôt</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>dbo</td><td>Users</td><td>UserID</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Kh√≥a ngo·∫°i -->
            <div class="card mb-3">
                <div class="card-header bg-danger text-white">üîó Kh√≥a ngo·∫°i</div>
                <div class="card-body">
                    <table class="table table-bordered table-responsive table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>T√™n kh√≥a</th>
                                <th>B·∫£ng cha</th>
                                <th>C·ªôt cha</th>
                                <th>B·∫£ng tham chi·∫øu</th>
                                <th>C·ªôt tham chi·∫øu</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>FK_Orders_Users</td>
                                <td>Orders</td>
                                <td>UserID</td>
                                <td>Users</td>
                                <td>UserID</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 6. G·ª£i √Ω ti·∫øp -->
        <div class="mb-5">
            <h4>üöÄ 6. G·ª£i √Ω ti·∫øp theo</h4>
            <ul>
                <li>B·∫°n c√≥ th·ªÉ d√πng Flask + Jinja2 ƒë·ªÉ render d·ªØ li·ªáu t·ª´ c∆° s·ªü d·ªØ li·ªáu tr·ª±c ti·∫øp th√†nh HTML.</li>
                <li>C√≥ th·ªÉ t·∫°o Python script ƒë·ªÉ k·∫øt n·ªëi SQL Server v√† xu·∫•t schema th√†nh <code>JSON</code>/<code>CSV</code>.</li>
                <li>N·∫øu b·∫°n c·∫ßn m√¨nh gi√∫p x√¢y d·ª±ng tool t·ª± ƒë·ªông h√≥a ƒëi·ªÅu n√†y, h√£y y√™u c·∫ßu nh√©!</li>
            </ul>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
